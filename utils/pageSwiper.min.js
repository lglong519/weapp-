"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var _config=require("../config"),_config2=_interopRequireDefault(_config);module.exports=function(t){if(!(t&&t.prev&&t.next&&t.type))throw new TypeError("Invalid params");return{swiperData:{startAt:0,startX:0,startY:0,endX:0,endY:0,moving:!1},swiperTouchstart:function(t){this.swiperData.startAt=t.timeStamp,this.swiperData.startX=t.touches[0].pageX,this.swiperData.startY=t.touches[0].pageY,this.swiperData.moving=!1},swiperTouchmove:function(t){var a=this.swiperData.endX,e=t.touches[0].pageX,i=this.swiperData.startY,s=t.touches[0].pageY;Math.abs(e-a)<5||Math.abs(s-i)>_config2.default.SWIPER.MAX_Y||(this.swiperData.endX=e,this.swiperData.endY=s,this.swiperData.moving=!0,this.setData({swiperX:1.5*(e-this.swiperData.startX)+"rpx"}))},swiperTouchend:function(a){this.data.swiperX&&this.setData({swiperX:0});var e=Math.abs(this.swiperData.startY-this.swiperData.endY);if(!(a.timeStamp-this.swiperData.startAt>_config2.default.SWIPER.DURATION||!this.swiperData.moving||e>_config2.default.SWIPER.MAX_Y)){var i=void 0,s=this.swiperData.startX-this.swiperData.endX;if(s>_config2.default.SWIPER.MIN_X)i=t.next;else{if(!(s<-_config2.default.SWIPER.MIN_X))return;i=t.prev}wx[t.type]({url:i})}}}};